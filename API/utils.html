
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Utilities &mdash; PyCD 0.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="PyCD 0.1 documentation" href="../index.html" />
    <link rel="up" title="API" href="pycd.html" />
    <link rel="next" title="test_script Module" href="test_script.html" />
    <link rel="prev" title="DataTypes Package" href="DataTypes.html" /> 
  </head>
  <body>

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<a href="../index.html"><img src="../_static/gwu_spu.jpg" border="100" alt="sampledoc"/></a>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="test_script.html" title="test_script Module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="DataTypes.html" title="DataTypes Package"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">home</a>|&nbsp;</li>
        <li><a href="../search.html">search</a>|&nbsp;</li>
       <li><a href="../contents.html">documentation </a> &raquo;</li>

          <li><a href="pycd.html" accesskey="U">API</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Utilities</a><ul>
<li><a class="reference internal" href="#module-CDUtilities.cd_utils"><tt class="docutils literal"><span class="pre">cddutils</span></tt></a></li>
<li><a class="reference internal" href="#module-CDUtilities.seq_utils"><tt class="docutils literal"><span class="pre">seq_utils</span></tt></a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="DataTypes.html"
                        title="previous chapter">DataTypes Package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="test_script.html"
                        title="next chapter">test_script Module</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/API/utils.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="utilities">
<h1>Utilities<a class="headerlink" href="#utilities" title="Permalink to this headline">¶</a></h1>
<p>PyCD attempts to provide utilities or functions that are generally useful.  <em>cddutils</em> provides utilities aimed to manipulating CD records.  For example, one can generate histograms and network diagrams from a batch of CD records.  <em>seq_utils</em> provides utilities for combining CD domain data with protein sequence data.  One important utility extracts the peptide sequence to a given domain from a .fasta file and assigns it to the domain record.  <a class="reference external" href="http://biopython.org/wiki/Seq">BioPython&#8217;s Seq</a> class is used to handle sequence information throughout.</p>
<div class="section" id="module-CDUtilities.cd_utils">
<span id="cddutils"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">cddutils</span></tt><a class="headerlink" href="#module-CDUtilities.cd_utils" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="CDUtilities.cd_utils.crop_accession">
<tt class="descclassname">CDUtilities.cd_utils.</tt><tt class="descname">crop_accession</tt><big>(</big><em>domains</em><big>)</big><a class="reference internal" href="../_modules/CDUtilities/cd_utils.html#crop_accession"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#CDUtilities.cd_utils.crop_accession" title="Permalink to this definition">¶</a></dt>
<dd><p>Since NCBI CD Domain files natively use &#8216;&gt;&#8217; in the accession, but BioPython strips them, this 
will crop out any &#8216;&gt;&#8217; found in the accession attribute of a domain</p>
</dd></dl>

<dl class="function">
<dt id="CDUtilities.cd_utils.domain_translator">
<tt class="descclassname">CDUtilities.cd_utils.</tt><tt class="descname">domain_translator</tt><big>(</big><em>domains</em><big>)</big><a class="reference internal" href="../_modules/CDUtilities/cd_utils.html#domain_translator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#CDUtilities.cd_utils.domain_translator" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes in set of domain objects, returns unique key value pairs of domain accessions to their shortnames. 
Uses a dictionary because it imposes unique entries automatically.</p>
</dd></dl>

<dl class="function">
<dt id="CDUtilities.cd_utils.formatted_domains">
<tt class="descclassname">CDUtilities.cd_utils.</tt><tt class="descname">formatted_domains</tt><big>(</big><em>domains</em>, <em>style='Domain Accession'</em><big>)</big><a class="reference internal" href="../_modules/CDUtilities/cd_utils.html#formatted_domains"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#CDUtilities.cd_utils.formatted_domains" title="Permalink to this definition">¶</a></dt>
<dd><p>Keys QueryAccessions to their domains ie: &#8216;xp2343242.2 : cl002343, cl002343, cl202032.  This requires sorting to
retain the domains in their positional order.  If a dictionary is passed, sorting is done automatically.  If</p>
<blockquote>
<div><p>an interable is passed, program assumes it is correctly sorted from the sortbyarg utility.</p>
<dl class="docutils">
<dt>style:  kw that determines if domains will be in their CD accession (eg cl02342) or shortname (Clectin)</dt>
<dd>exact style kws are &#8216;Domain Accession&#8217; or &#8216;Domain Shortname.</dd>
</dl>
</div></blockquote>
<p>WAR</p>
</dd></dl>

<dl class="function">
<dt id="CDUtilities.cd_utils.from_cdd_file">
<tt class="descclassname">CDUtilities.cd_utils.</tt><tt class="descname">from_cdd_file</tt><big>(</big><em>manager</em>, <em>infile</em>, <em>skip_assignment=False</em>, <em>warning=False</em><big>)</big><a class="reference internal" href="../_modules/CDUtilities/cd_utils.html#from_cdd_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#CDUtilities.cd_utils.from_cdd_file" title="Permalink to this definition">¶</a></dt>
<dd><p>For now this is ripping off utils.py from pyrecords.  If that file ever matures enough so that flexible
read conditions are imposed, then this file should become obsolete.  The CDD files are 14 lines long, so
this will leave the 15th slot in the record empty for the domain sequence to later be populated.  Assumes
first 8 lines are header and none in footer.</p>
</dd></dl>

<dl class="function">
<dt id="CDUtilities.cd_utils.histogram">
<tt class="descclassname">CDUtilities.cd_utils.</tt><tt class="descname">histogram</tt><big>(</big><em>cd_dic</em>, <em>*fields</em><big>)</big><a class="reference internal" href="../_modules/CDUtilities/cd_utils.html#histogram"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#CDUtilities.cd_utils.histogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns count of unique occurrences for a field in CDDomain record.  Literally it is counting the
occurrences of a unique attribute.  In practice, this is useful for understanding the domain distribution
in the dataset.  Build to take in multple fields for flexibility.</p>
</dd></dl>

<dl class="function">
<dt id="CDUtilities.cd_utils.network_diagram">
<tt class="descclassname">CDUtilities.cd_utils.</tt><tt class="descname">network_diagram</tt><big>(</big><em>formatted_domains_dic</em>, <em>domain</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/CDUtilities/cd_utils.html#network_diagram"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#CDUtilities.cd_utils.network_diagram" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a network diagram from formatted_domains_dic with central node as &#8220;domain&#8221;. These accept dictionaries of the return of the
singles_mosaics() method.  If they are not passed, the program will run this method on the formatted_dom_dic.&#8217;
Domain name style determined by formatted_domains_dic</p>
</dd></dl>

<dl class="function">
<dt id="CDUtilities.cd_utils.network_outfile">
<tt class="descclassname">CDUtilities.cd_utils.</tt><tt class="descname">network_outfile</tt><big>(</big><em>network</em>, <em>outstring</em>, <em>delimiter='\t'</em>, <em>summary=True</em>, <em>adjacency=True</em><big>)</big><a class="reference internal" href="../_modules/CDUtilities/cd_utils.html#network_outfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#CDUtilities.cd_utils.network_outfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes in network object from network_diagram method and outputs it as a summary and/or adjacency.
For now these are written into the same file.</p>
</dd></dl>

<dl class="function">
<dt id="CDUtilities.cd_utils.overlap">
<tt class="descclassname">CDUtilities.cd_utils.</tt><tt class="descname">overlap</tt><big>(</big><em>domains</em><big>)</big><a class="reference internal" href="../_modules/CDUtilities/cd_utils.html#overlap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#CDUtilities.cd_utils.overlap" title="Permalink to this definition">¶</a></dt>
<dd><p>Incomplete</p>
</dd></dl>

<dl class="function">
<dt id="CDUtilities.cd_utils.singles_mosaics">
<tt class="descclassname">CDUtilities.cd_utils.</tt><tt class="descname">singles_mosaics</tt><big>(</big><em>formatted_domains_dic</em><big>)</big><a class="reference internal" href="../_modules/CDUtilities/cd_utils.html#singles_mosaics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#CDUtilities.cd_utils.singles_mosaics" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all formatted domains that are merely single domains or multidomains (mosaics).
Could be interfaced directly to cd_dic, but figured it would be better to pass formatted
domains directly.  Domain name style determined by formatted_domains_dic</p>
</dd></dl>

</div>
<div class="section" id="module-CDUtilities.seq_utils">
<span id="seq-utils"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">seq_utils</span></tt><a class="headerlink" href="#module-CDUtilities.seq_utils" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="CDUtilities.seq_utils.assign_dom_seq">
<tt class="descclassname">CDUtilities.seq_utils.</tt><tt class="descname">assign_dom_seq</tt><big>(</big><em>domains</em>, <em>seqrecords</em>, <em>warning=True</em><big>)</big><a class="reference internal" href="../_modules/CDUtilities/seq_utils.html#assign_dom_seq"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#CDUtilities.seq_utils.assign_dom_seq" title="Permalink to this definition">¶</a></dt>
<dd><p>Method takes in domain iterable as well as sequences and returns subclasses (either mutable or immutable)
that have a new field.  For now, domains must be a list of domain objects and sequences must be list of
sequence records.  Comparison is done through the name attribute.  This uses a custom algorithm that is specific
to sorting.  Basically it works like this:</p>
<blockquote>
<div><p>step 1: Identify all names that are shared between domains, sequences.
step 2: Take subset of each domains, sequences in this shared list.
step 3: Sort both lists by the name argument (because the lists are the same length, this will</p>
<blockquote>
<div>order them identically)</div></blockquote>
<p>step 4: Compare with not direct lookup involved (ie no If i in seq and in domains...)
Because sets are used, duplicates are ERASED.  
Warning prints warnings to alert users to cases when domains have accessions not in the sequences list.</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="CDUtilities.seq_utils.proteins_from_file">
<tt class="descclassname">CDUtilities.seq_utils.</tt><tt class="descname">proteins_from_file</tt><big>(</big><em>infile</em>, <em>filetype='fasta'</em><big>)</big><a class="headerlink" href="#CDUtilities.seq_utils.proteins_from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads in a protein file and returns all seq records as iterable. Easy to key later using
my records utilities.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="test_script.html" title="test_script Module"
             >next</a> |</li>
        <li class="right" >
          <a href="DataTypes.html" title="DataTypes Package"
             >previous</a> |</li>
        <li><a href="../index.html">home</a>|&nbsp;</li>
        <li><a href="../search.html">search</a>|&nbsp;</li>
       <li><a href="../contents.html">documentation </a> &raquo;</li>

          <li><a href="pycd.html" >API</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Adam Hughes.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>